import i18n from "i18next";
import { initReactI18next } from "react-i18next";
import LanguageDetector from "i18next-browser-languagedetector";

// Check if i18next is already initialized
if (!i18n.isInitialized) {
  i18n
    .use(LanguageDetector)
    .use(initReactI18next)
    .init({
      lng: "ru", // Default language
      fallbackLng: "ru",

      debug: import.meta.env.MODE === "development",

      interpolation: {
        escapeValue: false, // React already escapes values
      },

      detection: {
        order: ["localStorage", "navigator", "htmlTag"],
        caches: ["localStorage"],
        lookupLocalStorage: "i18nextLng",
      },

      react: {
        useSuspense: false,
      },

      // Load resources directly inline
      resources: {
        ru: {
          translation: {
            navigation: {
              dashboard: "Дашборды",
              researches: "Исследования",
              meetings: "Встречи",
              calendar: "Календарь",
              roadmap: "Дорожная карта",
              jtbds: "Jobs to be Done",
            },
            meetings: {
              title: "Встречи с клиентами",
              newMeeting: "Новая встреча",
              editMeeting: "Редактировать встречу",
              deleteMeeting: "Удалить встречу",
              respondentName: "Имя респондента",
              respondentPosition: "Должность респондента",
              cnum: "CNUM",
              gcc: "GCC",
              companyName: "Название компании",
              email: "Email",
              researcher: "Исследователь",
              relationshipManager: "Менеджер по отношениям",
              recruiter: "Рекрутер",
              date: "Дата",
              research: "Исследование",
              status: "Статус",
              notes: "Заметки",
              fullText: "Полный текст",
              hasGift: "Есть подарок",
              actions: "Действия",
              edit: "Редактировать",
              delete: "Удалить",
              noMeetings: "Встречи не найдены",
              statusInProgress: "В процессе",
              statusSet: "Встреча назначена",
              statusDone: "Завершено",
              statusDeclined: "Отклонено",
              giftYes: "Да",
              giftNo: "Нет",
            },
            researches: {
              title: "Исследования",
              newResearch: "Новое исследование",
              editResearch: "Редактировать исследование",
              deleteResearch: "Удалить исследование",
              name: "Название",
              team: "Команда",
              researcher: "Исследователь",
              description: "Комментарии",
              dateStart: "Старт исследования",
              dateEnd: "Конец исследования",
              status: "Статус",
              color: "Цвет",
              researchType: "Тип исследования",
              products: "Продукты",
              customerFullName: "ФИО заказчика",
              brief: "Бриф",
              guide: "Гайд",
              fullText: "Отчет в текстовом виде",
              clientsWeSearchFor: "Критерии к респондентам",
              inviteTemplate: "Шаблон пригласительного письма",
              actions: "Действия",
              edit: "Редактировать",
              delete: "Удалить",
              noResearches: "Исследования не найдены",
              statusPlanned: "Запланировано",
              statusInProgress: "В процессе",
              statusDone: "Завершено",
              relatedResearches: "Связанные исследования",
              addRelatedResearch: "Добавить связанное исследование",
              selectRelatedResearch: "Выберите исследование...",
              previousResources: "Связанные материалы",
              additionalMaterials: "Дополнительные материалы",
            },
            research: {
              title: "Исследование",
              tabs: {
                overview: "Обзор",
                brief: "Бриф",
                recruitment: "Рекрутинг",
                guide: "Гайд",
                results: "Результаты",
                meetings: "Встречи",
              },
              researchType: "Тип исследования",
              additionalStakeholders: "Интересанты исследования",
              addStakeholder: "Добавить интересанта",
              resultFormat: "Формат отчета",
              resultFormatOptions: {
                presentation: "Презентация",
                figma: "Figma",
              },
              customerSegmentDescription: "Сегмент клиентов",
              customerSegmentDescriptionPlaceholder: "Опишите целевой сегмент клиентов...",
              projectBackground: "Контекст исследования",
              projectBackgroundDescription: "Общее описание запроса",
              problemToSolve: "Проблема, которую нужно решить",
              resultsUsage: "Ожидаемый результат",
              productMetrics: "Вовлеченные метрики",
              limitations: "Ограничения исследования",
              goalsHypothesesQuestions: "Основное об исследовании",
              additionalInformation: "Дополнительная информация",
              guideIntroText: "Вступительное слово",
              guideIntroTextPlaceholder: "Введите вступительное слово для интервью...",
              artifactLink: "Ссылка на отчет",
              artifactLinkPlaceholder: "Введите ссылку на отчет...",
              researchGoals: "Цели исследования",
              researchHypotheses: "Гипотезы",
              researchHypothesesPlaceholder: "Опишите ваши гипотезы...",
              keyQuestions: "Ключевые вопросы",
              keyQuestionsPlaceholder: "Перечислите ключевые вопросы...",
              previousResourcesPlaceholder: "Ссылки на связанные материалы...",
              additionalMaterialsPlaceholder: "Дополнительные материалы и ссылки...",
              figmaPrototypeLink: "Ссылка на прототип Figma",
              figmaPrototypeLinkPlaceholder: "Введите ссылку на Figma прототип...",
              customerFullName: "ФИО заказчика",
              saveBrief: "Сохранить бриф",
              uploadFiles: "Загрузить файлы",
              uploadDescription:
                "Загрузите аудио или видео файлы для автоматической транскрипции и добавления в полный текст",
              processing: "Обработка файлов...",
              processComplete: "Обработка завершена!",
              relatedResearches: "Связанные исследования",
              addRelatedResearch: "Добавить связанное исследование",
              selectRelatedResearch: "Выберите исследование...",
              previousResources: "Связанные материалы",
              additionalMaterials: "Дополнительные материалы",
            },
            jtbds: {
              title: "Jobs to be Done",
              newJtbd: "Создать",
              editJtbd: "Редактировать",
              deleteJtbd: "Удалить",
              name: "Заголовок",
              jobStatement: "Job Statement",
              jobStory: "Job Story",
              description: "Описание",
              category: "Категория",
              priority: "Приоритет",
              level: "Уровень",
              contentType: "Тип контента",
              actions: "Действия",
              edit: "Редактировать",
              delete: "Удалить",
              noJtbds: "Не найдены",
              addToResearch: "Добавить к исследованию",
              addToMeeting: "Добавить к встрече",
              removeFromResearch: "Удалить из исследования",
              removeFromMeeting: "Удалить из встречи",
            },
            forms: {
              save: "Сохранить",
              cancel: "Отменить",
              delete: "Удалить",
              required: "Обязательно",
              optional: "Опционально",
              loading: "Загрузка...",
              saving: "Сохранение...",
              deleting: "Удаление...",
              confirmDelete: "Вы уверены, что хотите удалить этот элемент?",
              yes: "Да",
              no: "Нет",
              selectOption: "Выберите опцию",
              searchPlaceholder: "Поиск...",
              noResults: "Результаты не найдены",
              addNew: "Добавить новый",
              create: "Создать",
              update: "Обновить",
            },
            filters: {
              search: "Поиск",
              status: "Статус",
              team: "Команда",
              researcher: "Исследователь",
              all: "Все",
              clearFilters: "Очистить фильтры",
              showColumns: "Показать колонки",
              hideColumns: "Скрыть колонки",
              sortBy: "Сортировать по",
              ascending: "По возрастанию",
              descending: "По убыванию",
              save: "Сохранить фильтр",
              manage: "Управление фильтрами",
              reset: "Сбросить фильтры",
              apply: "Применить",
              name: "Название фильтра",
              description: "Описание",
              shareWithTeam: "Поделиться с командой",
              saveSuccess: "Фильтр успешно сохранен",
              updateSuccess: "Фильтр успешно обновлен",
              deleteSuccess: "Фильтр успешно удален",
              applied: "Фильтр '{{name}}' применен",
              nameRequired: "Название фильтра обязательно",
              namePlaceholder: "Введите название для этого фильтра...",
              descriptionPlaceholder: "Опишите для чего этот фильтр...",
              saveFilter: "Сохранить текущий фильтр",
              editFilter: "Редактировать фильтр",
              savedFilters: "Сохраненные фильтры",
              noSavedFilters: "Пока нет сохраненных фильтров",
              createFirstFilter: "Создайте первый фильтр, применив критерии и нажав 'Сохранить фильтр'",
              shared: "Общий",
              private: "Личный",
              createdBy: "создал",
              deleteConfirmTitle: "Удалить фильтр",
              deleteConfirmMessage: "Вы уверены, что хотите удалить фильтр '{{name}}'? Это действие нельзя отменить.",
              corruptedData: "Данные фильтра повреждены и не могут быть применены",
            },
            errors: {
              generic: "Произошла ошибка",
              networkError: "Ошибка сети. Попробуйте еще раз.",
              validationError: "Проверьте ввод и попробуйте еще раз.",
              notFound: "Элемент не найден",
              unauthorized: "У вас нет прав для выполнения этого действия",
              serverError: "Ошибка сервера. Попробуйте позже.",
              requiredField: "Это поле обязательно",
              invalidEmail: "Введите действительный адрес электронной почты",
              invalidDate: "Введите действительную дату",
              invalidColor: "Введите действительный формат цвета",
            },
            calendar: {
              title: "Календарь",
              today: "Сегодня",
              noMeetings: "На этот день встреч не запланировано",
              meetingWith: "Встреча с",
              at: "в",
              company: "Компания"
            },
            roadmap: {
              title: "Дорожная карта",
              filterByTeam: "Фильтр по команде",
              allTeams: "Все команды",
              dateRange: "Диапазон дат",
              from: "С",
              to: "По",
              noResearches: "Исследования не найдены в выбранном диапазоне дат"
            },
            dashboard: {
              title: "Дашборды",
              totalResearches: "Всего исследований",
              totalMeetings: "Всего встреч",
              completedMeetings: "Завершенные встречи",
              upcomingMeetings: "Предстоящие встречи",
              meetingsByStatus: "Встречи по статусам",
              researchesByStatus: "Исследования по статусам",
              meetingsByTeam: "Встречи по командам",
              researchesByTeam: "Исследования по командам",
              scheduledMeetings: "Запланированные встречи",
              completedResearches: "Завершенные исследования",
              inProgressResearches: "Исследования в процессе",
              plannedResearches: "Запланированные исследования"
            },
            common: {
              close: "Закрыть",
              open: "Открыть",
              expand: "Развернуть",
              collapse: "Свернуть",
              next: "Далее",
              previous: "Предыдущий",
              first: "Первый",
              last: "Последний",
              page: "Страница",
              of: "из",
              results: "результатов",
              showing: "Показано",
              language: "Язык",
              english: "Английский",
              russian: "Русский",
              save: "Сохранить",
              cancel: "Отмена",
              delete: "Удалить"
            },
            researchTypes: {
              cati: "CATI (Телефонный опрос)",
              cawi: "CAWI (Онлайн опрос)",
              moderatedUsability: "Модерируемое тестирование юзабилити",
              unmoderatedUsability: "Немодерируемое тестирование юзабилити",
              coCreation: "Сессия совместного создания",
              interviews: "Интервью",
              deskResearch: "Кабинетное исследование"
            }
          },
        },
      },
    });
}

export default i18n;
